(trojen) abhinav.pm@node02:~/ABHI/SAL/v2/p2g_de$ python3 prepare_p2g_data_german.py --tsv_dir /home/abhinav.pm/ABHI/SAL/v2/german_phoneme_smallset --create_20h_subset
======================================================================
                  German P2G Data Analysis
======================================================================

Analyzing: common_voice_de_train_phoneme.tsv
  Samples: 25,369
  Calculating duration from audio files...
  Sampling durations: 100%|██████| 100/100 [00:00<00:00, 48210.39it/s]

Analyzing: common_voice_de_validation_phoneme.tsv
  Samples: 9,308
  Calculating duration from audio files...
  Sampling durations: 100%|██████| 100/100 [00:00<00:00, 49831.34it/s]

Analyzing: common_voice_de_test_phoneme.tsv
  Samples: 9,342
  Calculating duration from audio files...
  Sampling durations: 100%|██████| 100/100 [00:00<00:00, 46126.73it/s]

======================================================================
Dataset Statistics
======================================================================
Split           Samples      Duration (h)    Duration (m)
──────────────────────────────────────────────────────────────────────
Train           25369,,,,,,, N/A             N/A
Validation      9308,,,,,,,, N/A             N/A
Test            9342,,,,,,,, N/A             N/A
──────────────────────────────────────────────────────────────────────
TOTAL           44019,,,,,,, N/A             N/A
======================================================================

Example data from training set:

1. Phonemes: ziː vɑːrən aɪnə vɔxə ɪm bʊʃ ʊnt aɪnə vɔxə ɪm lɑːɡɜ...
   Text:     Sie waren eine Woche im Busch und eine Woche im La...

2. Phonemes: ʊnmɪtəlbɑːrə naxbarɔɾtə zɪnt maɾmɑːɡən zoːviː ʃtaɪ...
   Text:     Unmittelbare Nachbarorte sind Marmagen sowie Stein...

3. Phonemes: dɑːd??ç handəlt ɛs zɪç baɪ diːzɜ kɔnstɾʊktsjoːn aʊ...
   Text:     Dadurch handelt es sich bei dieser Konstruktion au...

======================================================================
Creating 20-hour training subset (matching paper's low-resource exp)
======================================================================
  Calculating durations from audio files...
  Sampling: 100%|██████████████| 1000/1000 [00:00<00:00, 50230.58it/s]
  ⚠ Warning: Could not calculate durations
  Using approximate: 14400 samples (~5s each)

  ✓ Created 20h subset:
     Samples: 14,400
     Duration: 20.00 hours (1200.00 minutes)
     Saved to: /home/abhinav.pm/ABHI/SAL/v2/german_phoneme_smallset/common_voice_de_train_20h_phoneme.tsv

======================================================================
✓ 20-hour subset created!
======================================================================

To train P2G with 20h data, update train_p2g_german.py:
  train_tsv = os.path.join(TSV_DIR, 'common_voice_de_train_20h_phoneme.tsv')

This matches the paper's low-resource experiment (20h)!
======================================================================

======================================================================
Recommendations
======================================================================
⚠ Your dataset has less than 20 hours
  - Consider using full dataset for training

Training options:
  1. Full data (~41h):   python train_p2g_german.py
  2. 20h subset:         python train_p2g_german.py  # after updating train_tsv path
======================================================================